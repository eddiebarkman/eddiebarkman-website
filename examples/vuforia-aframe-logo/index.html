<html>

<head>
    <title>Eddie Barkman Portfolio</title>
    <meta name="description" content="Augmented Reality Portfolio">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="stylesheet" type="text/css" href="../resources/splash.css">
    <link rel="stylesheet" type="text/css" href="../resources/style.css">
    <link rel="stylesheet" type="text/css" href="app.css">

    <script src="https://aframe.io/releases/0.4.0/aframe.min.js"></script>
    <script src="../resources/js/argon.min.js"></script>
    <script src="../build.js"></script>
    <script src="../resources/js/CSS3DArgonRenderer.js"></script>
    <script src="../resources/js/CSS3DArgonHUD.js"></script>
    <script src="../resources/js/aframe-look-at-component.js"></script>
</head>

<body>    
     <div id="menu" class="menu"></div>
    <div hidden>
        <div id="lookattarget" class="bottomScreen">Look at the target ...</div>
    </div>
    <div id="loader-wrapper">
        <div class="splashtext">
            <h1>AR Portfolio V1.31</h1>
            <h2 id="status">loading scripts...</h2>
        </div>

        <div id="loader"></div>
        <div class="loader-section section-left"></div>
        <div class="loader-section section-right"></div>
    </div>
    


    

    
    <ar-scene vuforiakey="#vuforiakey"
              vuforiadataset__evr="src:url(../resources/datasets/EVR.xml);">

<!--    <ar-scene vuforiakey="#vuforiakey" vuforiadataset__stonesandchips="src:url(../resources/datasets/StonesAndChips.xml);">-->


        <a-assets>
            <a-asset-item id="vuforiakey" src="key.txt"></a-asset-item>
            <img id="logo" src="images/logoWhite.png">
            <img id="dot" src="images/dot.png">
            <img id="dot2" src="images/dot1.png">
            <img id="dot3" src="images/dot2.png">
            <img id="email" src="images/email.png">
            <img id="tel" src="images/tel.png">
        </a-assets>

         <ar-camera>
        <a-entity id="myCursor" cursor="fuse:true; fuse-timeout: 1000"
                    position="0 0 -0.1"
                    geometry="primitive:ring; radiusInner: 0.001; radiusOuter: 0.0015"
                    material="color: #2E3A87; opacity:0.3;">          
        </a-entity>
      </ar-camera>


        <!-- attach to stones target. x/y in the plane, z up -->
              <ar-frame id="frame" trackvisibility="true" visible="false" parent="vuforia.evr.bcard" position="0 0 0" rotation="0 0 0" trigger="radius:0.35;event:target_trigger">
            <a-entity id="logoscene" scale="0.005 0.005 0.005" rotation="90 0 0" visible="false">
                <a-animation attribute="visible" to="false" dur="1"></a-animation>
                <a-animation attribute="visible" to="true" delay="10" dur="1"></a-animation>
<!--

                
                        
        <a-image src="#logo" width="250" height="100" position="0 80 0" ></a-image>
        <a-image src="#dot" width="50" height="15" position="165 105 0"></a-image>
        <a-image src="#dot2" width="50" height="15" position="165 80 0"></a-image>
        <a-image src="#dot3" width="50" height="15" position="165 55 0"></a-image>
        <a-image src="#email" width="80" height="15" position="-75 15 10"></a-image>
        <a-image src="#tel" width="80" height="15" position="75 15 10"></a-image>
        <a-sphere color="#A61E34" radius="5" position="147 106 0.5" scale="1.8 1.8 1.8"></a-sphere>
        <a-sphere color="#3DA649" radius="5" position="147 80 0.5" scale="1.8 1.8 1.8"></a-sphere>
        <a-sphere color="#1F6981" radius="5" position="147 54 0.5" scale="1.8 1.8 1.8"></a-sphere>
-->
                
                
        <a-image src="#logo" width="250" height="100">
        <a-animation attribute="opacity" begin="0" from="0" to="1" repeat="0" dur="200"></a-animation> 
        <a-animation attribute="position" begin="0" from="0 -100 0" to="0 80 0" repeat="0" dur="500"></a-animation> 
        
        </a-image>
        <a-entity>
        <a-image src="#dot" width="50" height="15">
        <a-animation delay="500" attribute="opacity" begin="0" from="0" to="1" repeat="0" dur="800"></a-animation> 
        <a-animation delay="500" attribute="position" begin="0" from="1000 105 0" to="165 105 0" repeat="0" dur="1000"></a-animation> 
        </a-image>    
        <a-sphere color="#A61E34" radius="5" scale="1.8 1.8 1.8">
        <a-animation delay="500" attribute="opacity" begin="0" from="0" to="1" repeat="0"></a-animation> 
        <a-animation delay="500" attribute="position" begin="0" from="1000 105 0" to="147 106 0.5" repeat="0"></a-animation> 
        </a-sphere>
        </a-entity>
        <a-image src="#dot2" width="50" height="15" position="165 80 0"></a-image>
        <a-sphere color="#3DA649" radius="5" position="147 80 0.5" scale="1.8 1.8 1.8"></a-sphere>
                
        <a-image src="#dot3" width="50" height="15" position="165 55 0"></a-image>
        <a-sphere color="#1F6981" radius="5" position="147 54 0.5" scale="1.8 1.8 1.8"></a-sphere>
                
                
                
        <a-image src="#email" width="80" height="15" position="-75 15 10"></a-image>
        <a-image src="#tel" width="80" height="15" position="75 15 10"></a-image>
                
                
                
                
                
                
                
                
                

            </a-entity>
        </ar-frame>

    </ar-scene>
    <script src="app.js"></script>
    
<script> 
var vid = document.getElementById("battleWithin"); 

function playVid() { 
    vid.play(); 
} 

function pauseVid() { 
    vid.pause(); 
} 
</script> 

    <script>
      var arScene = document.querySelector('ar-scene');
      var content = document.querySelector('#helloworld');
    var vid = document.getElementById("battleWithin"); 

      // the ar-camera has an argon reference frame attached, so when it gets it's first value,
      // we'll get this event 
      arScene.addEventListener("referenceframe-statuschanged", function () {
        var camera = document.querySelector('ar-camera');
        var vec = camera.object3D.getWorldDirection();
        vec.multiplyScalar(-10);
        vec.y -= 1;
        content.setAttribute("position", {x: vec.x, y: vec.y, z: vec.z});
      });

      var panoramas = [
        { text: 'Georgia Aquarium', name: 'aqui' },
        { text: 'Centennial Park', name: 'cent' },
        { text: 'High Museum', name: 'high' },
        { text: 'Piedmont Park', name: 'pied'}
      ];

      var currentPanorama;
      // get the menu element
      var menu = document.getElementById('menu');
      // add buttons to the menu for each panorama
      panoramas.forEach(function (p) {
          var button = document.createElement('button');
          button.textContent = p.text;
          menu.appendChild(button);
          // when a button is tapped, have the reality fade in the corresponding panorama
          button.addEventListener('click', function () {
            vid.play(); 
              arScene.sceneEl.emit('showpanorama', { name: p.name });     
          });
      });

      // doesn't work yet ...
      //
      // var button = document.createElement('button');
      // button.textContent = "LIVE";
      // menu.appendChild(button);
      // // when a button is tapped, have the reality fade in the corresponding panorama
      // button.addEventListener('click', function () {
      //   arScene.removeAttribute("desiredreality");
      // });
      
      arScene.addEventListener('argon-initialized', function(evt) {
        arScene.sceneEl.hud.appendChild(menu);
        arScene.sceneEl.argonApp.focusEvent.addEventListener(function () {
            document.getElementById('menu').style.display = 'block';
        });
        arScene.sceneEl.argonApp.blurEvent.addEventListener(function () {
            document.getElementById('menu').style.display = 'none';
        });      
      });
    </script>
    
    
    
</body>

</html>